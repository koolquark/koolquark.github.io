
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="/theme/pygments/default.min.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/font-awesome.min.css">




    <link rel="shortcut icon" href="/images/KQ1.jpg" type="image/x-icon">
    <link rel="icon" href="/images/KQ1.jpg" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<meta name="author" content="#koolquark" />
<meta name="description" content="Notes on Python re Module Notes on Pexpect Module Patterns shall be passed to pexpect's expect funtion Default timeout for expect is 30s After timeout TIMEOUT exception is raised. Python Regular expression special characters Pexpect regular expression matching is different in following ways Regex match happens one character at a …" />
<meta name="keywords" content="">
<meta property="og:site_name" content="Code Adventures"/>
<meta property="og:title" content="Notes on Pexpect"/>
<meta property="og:description" content="Notes on Python re Module Notes on Pexpect Module Patterns shall be passed to pexpect's expect funtion Default timeout for expect is 30s After timeout TIMEOUT exception is raised. Python Regular expression special characters Pexpect regular expression matching is different in following ways Regex match happens one character at a …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/notes-on-pexpect.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-11-13 22:11:00+05:30"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/koolquark.html">
<meta property="article:section" content="Python"/>
<meta property="og:image" content="/images/KQ1.jpg">

  <title>Code Adventures &ndash; Notes on Pexpect</title>

</head>
<body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5T8BQ86"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5T8BQ86');</script>
<!-- End Google Tag Manager -->  <aside>
    <div>
      <a href="">
        <img src="/images/KQ1.jpg" alt="KoolQuark" title="KoolQuark">
      </a>
      <h1><a href="">KoolQuark</a></h1>

<p>Code and More</p>
      <nav>
        <ul class="list">

          <li><a href="#" target="_blank">About</a></li>
          <li><a href="#" target="_blank">Projects</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-github" href="https://github.com/koolquark" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/koolquark" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-stack-overflow" href="https://stackexchange.com/users/12228369/koolquark" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
        <li><a class="sc-facebook" href="https://www.facebook.com/kooquark" target="_blank"><i class="fa fa-facebook"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="">    Home
</a>



    </nav>

<article class="single">
  <header>
    <h1 id="notes-on-pexpect">Notes on Pexpect</h1>
    <p>
          Posted on Mon 13 November 2017 in <a href="/category/python.html">Python</a>


    </p>
  </header>


  <div>
    <h1>Notes on Python re Module</h1>
<h1>Notes on Pexpect Module</h1>
<ul>
<li>Patterns shall be passed to pexpect's expect funtion</li>
<li>Default timeout for expect is 30s</li>
<li>After timeout <strong>TIMEOUT</strong> exception is raised.</li>
<li><a href="https://docs.python.org/2/library/re.html">Python Regular expression special characters</a></li>
<li>Pexpect regular expression matching is different in following ways<ul>
<li>Regex match happens one character at a time ( not a buffered one)</li>
<li>End of line match using <strong>$</strong> does not work</li>
<li>Best way to match end of line is to match <strong>\r\n</strong></li>
<li>Pexepct uses a pseudo-tty and converts <strong>\n</strong> from child to <strong>\r\n</strong></li>
<li>A unix command may send only <strong>\n</strong>, but pexpect makes it <strong>\r\n</strong></li>
<li>Pexpect compiles all regex with <code>re.DOTALL</code></li>
<li>Pexpect match is non-greedy ; so all look ahead matching requests will only get minimal match<ul>
<li><code>child.expect('.+')</code> will return only one character.</li>
<li><code>child.expect('.*')</code> will return only no character.</li>
</ul>
</li>
</ul>
</li>
<li>Pexpect <em>after</em> and <em>before</em><ul>
<li><em>after</em>  contains text that was matched by expected pattern.</li>
<li><em>before</em> contains text up to expected pattern.</li>
</ul>
</li>
</ul>
<h2>Matching End of Lines</h2>
<div class="highlight"><pre><span></span>child.expect(&#39;\r\n&#39;)
</pre></div>


<h2>Expecting a pattern before End-of-Line</h2>
<div class="highlight"><pre><span></span>child.expect(&#39;\w+\r\n&#39;)
</pre></div>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>




<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'koolquark-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
</article>

    <footer>
<p>
  &copy; #koolquark 2017 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-109658057-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->



<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Code Adventures ",
  "url" : "",
  "image": "/images/KQ1.jpg",
  "description": ""
}
</script>
</body>
</html>